---
const title = "Brandon";
const line1 = "Hi, my name is";
const line2 = "and I build ";
const words = ["websites", "apps", "teams", "software", "all the things!"];
---

<header>
  <div class="copy line1">
    <p>{line1}</p>
  </div>
  <div class="name">
    {title.split("").map((l) => <span data-letter={l}>{l}</span>)}
  </div>
  <div class="copy line2">
    <p>
      {line2}<span data-scroll-text={words.join("|")}>
        <span>{words[0]}</span>
      </span>
    </p>
  </div>
  <div class="scroll-down-arrow"></div>
</header>

<style>
  :root {
    --grid-bg: #07091f;
    --grid-bg-1: rgba(0, 0, 0, 0.2);
    --grid-bg-2: rgba(0, 0, 0, 0.1);
  }

  header {
    font-family: "Press Start 2P", cursive;
    display: flex;
    align-items: center;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    position: relative;
    padding: 4rem 0 5rem;
    height: 80vh;
    font-size: 3vw;
    text-align: center;
    overflow: hidden;
    box-shadow: 0 5px #000;
    &:before {
      content: "";
      position: absolute;
      top: -100rem;
      left: -100rem;
      right: -100rem;
      bottom: -100rem;
      transform: rotate(45deg);
      overflow: hidden;
      background-color: #1a1a1a;
      background-image: linear-gradient(#0003 2px, #0000 2px),
        linear-gradient(90deg, #0003 2px, #0000 2px),
        linear-gradient(#0000001a 1px, #0000 1px),
        linear-gradient(90deg, #0000001a 1px, #0000 1px);
      background-size: 50px 50px, 50px 50px, 10px 10px, 10px 10px;
      animation: rotate 10s cubic-bezier(0.32, 1.58, 0.71, -0.78) infinite;
    }
  }

  .name {
    max-width: var(--max-width);
    position: relative;
    font-size: 8vw;
    margin: 3rem 0;
  }
  .name span {
    position: relative;
    text-shadow: 10px 10px #000;
  }

  .name span:before {
    content: attr(data-letter);
    text-shadow: none;
    background-color: greenyellow;
    background-image: linear-gradient(transparent, rgba(0, 0, 0, 0.2)),
      linear-gradient(
        #fff 1px,
        transparent 15px,
        rgba(0, 0, 0, 0.5) 160px,
        transparent 170px
      );
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: 2s linear infinite bgScroll;
    position: absolute;
    top: 0;
  }
  .copy {
    max-width: var(--max-width);
    position: relative;
  }
  p {
    margin: 0;
    color: #fff;
  }

  [data-scroll-text] {
    display: inline;
    position: relative;
    & > :global(span) {
      transition: all 0.2s;
      position: absolute;
      left: 0;
      opacity: 0;
      transform: translateY(50px);
    }
    & > :global(span.current) {
      position: relative;
      transform: translateY(0);
      opacity: 1;
    }
  }

  .name::after {
    --slice-0: inset(50% 50% 50% 50%);
    --slice-1: inset(80% -6px 0 0);
    --slice-2: inset(50% -6px 30% 0);
    --slice-3: inset(10% -6px 85% 0);
    --slice-4: inset(40% -6px 43% 0);
    --slice-5: inset(80% -6px 5% 0);
    content: "Branclon";
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;

    text-shadow: 1px 1px 0px #98e02a, 2px 2px #000, -2px -2px #000;
    filter: blur(2px);
    color: transparent;
    clip-path: var(--slice-0);
    animation: glitch 3s infinite;
    text-shadow: 10 10px 10px black;
    animation-timing-function: steps(2, end);
  }

  .scroll-down-arrow {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    height: 2rem;
    width: 2rem;
    translate: -50%;
    rotate: 45deg;
    border-radius: 0 0 5px 0;
    box-shadow: 3px 3px #fff;
  }

  @keyframes bgScroll {
    from {
      background-position: 100px 100px;
    }
    to {
      background-position: 50px 50px;
    }
  }

  @keyframes hue {
    0% {
      filter: hue-rotate(0deg);
    }
    100% {
      filter: hue-rotate(360deg);
    }
  }

  @keyframes rotate {
    0% {
      transform: rotate(45deg);
    }
    100% {
      transform: rotate(405deg);
    }
  }
  @keyframes path {
    0% {
      clip-path: polygon(3% 5%, 94% 3%, 78% 83%, 18% 82%);
    }
    25% {
      clip-path: polygon(13% 3%, 94% 3%, 92% 95%, 7% 91%);
    }
    50% {
      clip-path: polygon(8% 17%, 66% 0, 100% 71%, 27% 100%);
    }
    75% {
      clip-path: polygon(2% 68%, 9% 5%, 100% 16%, 61% 100%);
    }
    100% {
      clip-path: polygon(9% 88%, 10% 27%, 88% 3%, 88% 95%);
    }
  }

  @keyframes glitch {
    0% {
      clip-path: var(--slice-1);
      transform: translate(-20px, -10px);
    }

    10% {
      clip-path: var(--slice-3);
      transform: translate(10px, 10px);
    }

    20% {
      clip-path: var(--slice-1);
      transform: translate(-10px, 10px);
    }

    30% {
      clip-path: var(--slice-3);
      transform: translate(0px, 5px);
    }

    40% {
      clip-path: var(--slice-2);
      transform: translate(-5px, 0px);
    }

    50% {
      clip-path: var(--slice-3);
      transform: translate(5px, 0px);
    }

    60% {
      clip-path: var(--slice-4);
      transform: translate(5px, 10px);
    }

    70% {
      clip-path: var(--slice-2);
      transform: translate(-10px, 10px);
    }

    80% {
      clip-path: var(--slice-5);
      transform: translate(20px, -10px);
    }

    90% {
      clip-path: var(--slice-1);
      transform: translate(-10px, 0px);
    }

    100% {
      clip-path: var(--slice-1);
      transform: translate(0);
    }
  }
</style>

<script>
  import ScrollText from "scroll-text";

  new ScrollText(document.querySelector("[data-scroll-text]"));
</script>
